{"version":3,"sources":["webpack:///./src/views/Recognize.vue?9162","webpack:///./src/assets/icons/close-circle.svg","webpack:///./src/views/Recognize.vue?f068","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./src/components/recognizer/Process.vue?0229","webpack:///src/components/recognizer/Process.vue","webpack:///./src/components/recognizer/Process.vue?1973","webpack:///./src/components/recognizer/Process.vue","webpack:///src/views/Recognize.vue","webpack:///./src/views/Recognize.vue?0dc9","webpack:///./src/views/Recognize.vue","webpack:///./src/assets/icons/info-circle.svg","webpack:///./src/components/recognizer/Process.vue?4ef0","webpack:///./src/assets/icons/check-circle.svg"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","base64","Boolean","image","model","value","callback","$$v","expression","on","$event","calculate","_v","_s","message","result","_e","ref","_l","process","key","id","status","staticRenderFns","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","name","props","String","computed","showSpinner","showPadding","showDone","showError","component","components","Process","data","processes","watch","toBase64","methods","updateProcess","$socket","connected","vm","$refs","show","uploadImg","e","mounted","sockets","subscribe"],"mappings":"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","file":"js/chunk-57780adb.4a8ab3ab.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recognize.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/close-circle.6c381fb5.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',[_c('b-img',{staticClass:\"image-show\",attrs:{\"center\":\"\",\"src\":_vm.base64}}),_c('b-form',[_c('b-form-group',{attrs:{\"label\":\"选择图片：\",\"label-for\":\"cover\"}},[_c('b-form-file',{attrs:{\"state\":Boolean(_vm.image),\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\",\"accept\":\".png, .jpg, .jpeg\"},model:{value:(_vm.image),callback:function ($$v) {_vm.image=$$v},expression:\"image\"}})],1)],1),_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.calculate()}}},[_vm._v(\"计算\")])],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\" 计算状态： \"+_vm._s(_vm.message)+\" \")]),(_vm.result != null)?_c('b-col',[_vm._v(\" 预测热导率：\"+_vm._s(_vm.result)+\" W·m\"),_c('sup',[_vm._v(\"-1\")]),_vm._v(\"·K\"),_c('sup',[_vm._v(\"-1\")])]):_vm._e()],1),_c('b-modal',{ref:\"run-modal\",attrs:{\"cancel-disabled\":\"\",\"title\":\"计算\"}},_vm._l((_vm.processes),function(process){return _c('Process',{key:process.id,attrs:{\"status\":process.status,\"message\":process.message}})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',{staticClass:\"text-center\",attrs:{\"cols\":\"1\"}},[(_vm.showPadding)?_c('img',{staticClass:\"status-icon\",attrs:{\"src\":require(\"@/assets/icons/info-circle.svg\")}}):_vm._e(),(_vm.showDone)?_c('img',{staticClass:\"status-icon\",attrs:{\"src\":require(\"@/assets/icons/check-circle.svg\")}}):_vm._e(),(_vm.showError)?_c('img',{staticClass:\"status-icon\",attrs:{\"src\":require(\"@/assets/icons/close-circle.svg\")}}):_vm._e(),(_vm.showSpinner)?_c('b-spinner',{staticClass:\"status-icon\",attrs:{\"variant\":\"success\"}}):_vm._e()],1),_c('b-col',[_vm._v(\" \"+_vm._s(_vm.message)+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-row>\r\n      <b-col cols=\"1\" class=\"text-center\">\r\n        <img v-if=\"showPadding\" src=\"@/assets/icons/info-circle.svg\" class=\"status-icon\" />\r\n        <img v-if=\"showDone\" src=\"@/assets/icons/check-circle.svg\" class=\"status-icon\" />\r\n        <img v-if=\"showError\" src=\"@/assets/icons/close-circle.svg\" class=\"status-icon\" />\r\n        <b-spinner v-if=\"showSpinner\" variant=\"success\" class=\"status-icon\"></b-spinner>\r\n      </b-col>\r\n      <b-col>\r\n        {{ message }}\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Process',\r\n  props: {\r\n    status: String,\r\n    message: String\r\n  },\r\n  computed: {\r\n    showSpinner () {\r\n      return this.status === 'running'\r\n    },\r\n    showPadding () {\r\n      return this.status === 'padding'\r\n    },\r\n    showDone () {\r\n      return this.status === 'done'\r\n    },\r\n    showError () {\r\n      return this.status === 'error'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.status-icon {\r\n  height: 1.2rem;\r\n  width: 1.2rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Process.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Process.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Process.vue?vue&type=template&id=3f0f502c&\"\nimport script from \"./Process.vue?vue&type=script&lang=js&\"\nexport * from \"./Process.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Process.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <b-card>\r\n      <b-img center :src=\"base64\" class=\"image-show\"></b-img>\r\n      <b-form>\r\n        <b-form-group label=\"选择图片：\" label-for=\"cover\">\r\n          <b-form-file\r\n            v-model=\"image\"\r\n            :state=\"Boolean(image)\"\r\n            placeholder=\"Choose a file or drop it here...\"\r\n            drop-placeholder=\"Drop file here...\"\r\n            accept=\".png, .jpg, .jpeg\"\r\n          >\r\n          </b-form-file>\r\n        </b-form-group>\r\n      </b-form>\r\n      <b-row align-v=\"center\">\r\n        <b-col cols=\"2\">\r\n          <b-button variant=\"primary\" @click=\"calculate()\">计算</b-button>\r\n        </b-col>\r\n        <b-col cols=\"2\">\r\n          计算状态： {{ message }}\r\n        </b-col>\r\n        <b-col v-if=\"result != null\">\r\n          预测热导率：{{ result }} W·m<sup>-1</sup>·K<sup>-1</sup>\r\n        </b-col>\r\n      </b-row>\r\n      <b-modal cancel-disabled ref=\"run-modal\" title=\"计算\">\r\n        <Process v-for=\"process in processes\" :key=\"process.id\" :status=\"process.status\" :message=\"process.message\"></Process>\r\n      </b-modal>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Process from '@/components/recognizer/Process.vue'\r\n\r\nexport default {\r\n  name: 'Recognize',\r\n  components: {\r\n    Process\r\n  },\r\n  data () {\r\n    return {\r\n      image: null,\r\n      base64: '',\r\n      result: null,\r\n      message: '就绪',\r\n      processes: [\r\n        { id: 0, status: 'padding', message: '上传图片' },\r\n        { id: 1, status: 'padding', message: '计算' },\r\n        { id: 2, status: 'padding', message: '预测热导率：' }\r\n      ]\r\n    }\r\n  },\r\n  watch: {\r\n    image () {\r\n      if (this.image != null) {\r\n        const vm = this\r\n        this.toBase64(this.image).then(\r\n          res => { vm.base64 = res }\r\n        )\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    toBase64: file => new Promise((resolve, reject) => {\r\n      const reader = new FileReader()\r\n      reader.readAsDataURL(file)\r\n      reader.onload = () => resolve(reader.result)\r\n      reader.onerror = error => reject(error)\r\n    }),\r\n    updateProcess (id, status = '', message = '') {\r\n      if (status) this.processes[id].status = status\r\n      if (message) this.processes[id].message = message\r\n    },\r\n    calculate () {\r\n      const vm = this\r\n      this.updateProcess(0, 'running')\r\n\r\n      if (!this.$socket.connected) {\r\n        this.message = '未连接！'\r\n        vm.updateProcess(0, 'error', '未连接')\r\n        this.$refs['run-modal'].show()\r\n        return\r\n      }\r\n\r\n      this.$refs['run-modal'].show()\r\n\r\n      this.uploadImg().then(res => {\r\n        vm.updateProcess(0, 'done')\r\n        vm.updateProcess(1, 'running')\r\n        vm.message = '正在计算！'\r\n      }).catch(e => {\r\n        vm.updateProcess(0, 'error', '上传失败：' + e)\r\n        vm.message = '上传出错！'\r\n      })\r\n    },\r\n    async uploadImg () {\r\n      await this.$socket.emit('image', this.base64)\r\n    }\r\n  },\r\n  mounted () {\r\n    const vm = this\r\n    this.sockets.subscribe('result', data => {\r\n      vm.updateProcess(1, 'done')\r\n      vm.updateProcess(2, 'done', '热导率：' + data)\r\n      vm.message = '计算完成'\r\n      vm.result = data\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.image-show {\r\n  max-width: 512px;\r\n  max-height: 512px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recognize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recognize.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recognize.vue?vue&type=template&id=2b169aef&\"\nimport script from \"./Recognize.vue?vue&type=script&lang=js&\"\nexport * from \"./Recognize.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Recognize.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/info-circle.52290e58.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Process.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/check-circle.d4339267.svg\";"],"sourceRoot":""}