{"version":3,"sources":["webpack:///./src/views/Recognize.vue?9162","webpack:///./src/views/Recognize.vue?60b7","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///src/views/Recognize.vue","webpack:///./src/views/Recognize.vue?0dc9","webpack:///./src/views/Recognize.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","base64","Boolean","image","model","value","callback","$$v","expression","on","$event","calculate","_v","_s","message","result","_e","staticRenderFns","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","name","data","watch","toBase64","methods","uploadImg","vm","mounted","sockets","subscribe","component"],"mappings":"gHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACA,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,OAAS,GAAG,IAAMP,EAAIQ,UAAUJ,EAAG,SAAS,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,YAAY,UAAU,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQE,QAAQT,EAAIU,OAAO,YAAc,mCAAmC,mBAAmB,oBAAoB,OAAS,qBAAqBC,MAAM,CAACC,MAAOZ,EAAS,MAAEa,SAAS,SAAUC,GAAMd,EAAIU,MAAMI,GAAKC,WAAW,YAAY,IAAI,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,UAAU,WAAW,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,MAAM,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,QAAU,WAAWS,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,eAAe,CAAClB,EAAImB,GAAG,SAAS,GAAGf,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,MAAM,CAACP,EAAImB,GAAG,UAAUnB,EAAIoB,GAAGpB,EAAIqB,SAAS,OAAsB,MAAdrB,EAAIsB,OAAgBlB,EAAG,QAAQ,CAACJ,EAAImB,GAAG,UAAUnB,EAAIoB,GAAGpB,EAAIsB,QAAQ,YAAYtB,EAAIuB,MAAM,IAAI,IAAI,IACt4BC,EAAkB,G,UCDtB,SAASC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBpB,EAAQqB,EAAKrB,MACjB,MAAOsB,GAEP,YADAN,EAAOM,GAILD,EAAKE,KACPR,EAAQf,GAERwB,QAAQT,QAAQf,GAAOyB,KAAKR,EAAOC,GAIxB,SAASQ,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOvC,KACPwC,EAAOC,UACX,OAAO,IAAIN,SAAQ,SAAUT,EAASC,GACpC,IAAIF,EAAMa,EAAGI,MAAMH,EAAMC,GAEzB,SAASZ,EAAMjB,GACba,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQlB,GAGlE,SAASkB,EAAOc,GACdnB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASc,GAGnEf,OAAMgB,O,cCCZ,GACEC,KAAM,YACNC,KAFF,WAGI,MAAO,CACLrC,MAAO,KACPF,OAAQ,GACRc,OAAQ,KACRD,QAAS,OAGb2B,MAAO,CACLtC,MADJ,WAEM,GAAkB,MAAdT,KAAKS,MAAe,CACtB,IAAR,OACQT,KAAKgD,SAAShD,KAAKS,OAAO2B,MAClC,YAAU,EAAV,eAKEa,QAAS,CACPD,SAAU,SAAd,qCACA,qBACA,mBACA,wCACA,uCAEI/B,UAPJ,WAQM,IAAN,OAEMjB,KAAKkD,YAAYd,MAAK,SAA5B,GACQe,EAAG/B,QAAU,WACrB,mBACQ+B,EAAG/B,QAAU,YAGjB,UAhBJ,WAgBA,2JACA,iCADA,+CAIEgC,QAxCF,WAyCI,IAAJ,OACIpD,KAAKqD,QAAQC,UAAU,UAAU,SAArC,GACMH,EAAG/B,QAAU,OACb+B,EAAG9B,OAASyB,OC5EiU,I,wBCQ/US,EAAY,eACd,EACAzD,EACAyB,GACA,EACA,KACA,KACA,MAIa,aAAAgC,E","file":"js/chunk-2fe206b3.f790b872.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recognize.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',[_c('b-img',{staticClass:\"image-show\",attrs:{\"center\":\"\",\"src\":_vm.base64}}),_c('b-form',[_c('b-form-group',{attrs:{\"label\":\"选择图片：\",\"label-for\":\"cover\"}},[_c('b-form-file',{attrs:{\"state\":Boolean(_vm.image),\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\",\"accept\":\".png, .jpg, .jpeg\"},model:{value:(_vm.image),callback:function ($$v) {_vm.image=$$v},expression:\"image\"}})],1)],1),_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.calculate()}}},[_vm._v(\"计算\")])],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\" 计算状态： \"+_vm._s(_vm.message)+\" \")]),(_vm.result != null)?_c('b-col',[_vm._v(\" 预测热导率：\"+_vm._s(_vm.result)+\" W/mK \")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","<template>\r\n  <div>\r\n    <b-card>\r\n      <b-img center :src=\"base64\" class=\"image-show\"></b-img>\r\n      <b-form>\r\n        <b-form-group label=\"选择图片：\" label-for=\"cover\">\r\n          <b-form-file\r\n            v-model=\"image\"\r\n            :state=\"Boolean(image)\"\r\n            placeholder=\"Choose a file or drop it here...\"\r\n            drop-placeholder=\"Drop file here...\"\r\n            accept=\".png, .jpg, .jpeg\"\r\n          >\r\n          </b-form-file>\r\n        </b-form-group>\r\n      </b-form>\r\n      <b-row align-v=\"center\">\r\n        <b-col cols=\"2\">\r\n          <b-button variant=\"primary\" @click=\"calculate()\">计算</b-button>\r\n        </b-col>\r\n        <b-col cols=\"2\">\r\n          计算状态： {{ message }}\r\n        </b-col>\r\n        <b-col v-if=\"result != null\">\r\n          预测热导率：{{ result }} W/mK\r\n        </b-col>\r\n      </b-row>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Recognize',\r\n  data () {\r\n    return {\r\n      image: null,\r\n      base64: '',\r\n      result: null,\r\n      message: '就绪'\r\n    }\r\n  },\r\n  watch: {\r\n    image () {\r\n      if (this.image != null) {\r\n        const vm = this\r\n        this.toBase64(this.image).then(\r\n          res => { vm.base64 = res }\r\n        )\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    toBase64: file => new Promise((resolve, reject) => {\r\n      const reader = new FileReader()\r\n      reader.readAsDataURL(file)\r\n      reader.onload = () => resolve(reader.result)\r\n      reader.onerror = error => reject(error)\r\n    }),\r\n    calculate () {\r\n      const vm = this\r\n\r\n      this.uploadImg().then(res => {\r\n        vm.message = '正在计算！'\r\n      }).catch(e => {\r\n        vm.message = '上传出错！'\r\n      })\r\n    },\r\n    async uploadImg () {\r\n      await this.$socket.emit('image', this.base64)\r\n    }\r\n  },\r\n  mounted () {\r\n    const vm = this\r\n    this.sockets.subscribe('result', data => {\r\n      vm.message = '计算完成'\r\n      vm.result = data\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.image-show {\r\n  max-width: 512px;\r\n  max-height: 512px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recognize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recognize.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recognize.vue?vue&type=template&id=4a8741ef&\"\nimport script from \"./Recognize.vue?vue&type=script&lang=js&\"\nexport * from \"./Recognize.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Recognize.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}